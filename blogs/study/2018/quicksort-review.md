---
title: "å¿«é€ŸæŽ’åºç®—æ³•ç†è§£"
date: 2018-05-18T10:15:21+08:00
tags:
  - code
  - algorithm
author: dyzdyz010
categories:
  - study
---

ä»Žæœ¬ç§‘åˆ°çŽ°åœ¨ä¸€ç›´æ²¡æœ‰æžæ‡‚å¿«æŽ’çš„åŽŸç†ï¼Œç›´åˆ°ä»Šå¤©å­¦ä¹  Haskell çœ‹åˆ°ä¸€å¼ å›¾ï¼Œå¾ˆç›´è§‚åœ°è§£é‡Šäº†å¿«é€ŸæŽ’åºçš„åŽŸç†ï¼Œè¿™é‡Œæˆ‘å°†ä»¥è‡ªå·±çš„ç†è§£å‘å„ä½è§£é‡Šå¿«æŽ’çš„å·¥ä½œåŽŸç†ã€‚

å¿«é€ŸæŽ’åºçš„ç†å¿µéžå¸¸ç®€å•ï¼š

> ä»Žåˆ—è¡¨ä¸­å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å‰©ä¸‹çš„å…ƒç´ ä¸­ï¼Œé€‰å‡ºæ‰€æœ‰æ¯”å®ƒå°çš„å…ƒç´ æ”¾åœ¨å®ƒçš„å·¦è¾¹ï¼Œå…¶ä½™çš„æ”¾åœ¨å³è¾¹ã€‚

æ­¤æ—¶æˆ‘ä»¬ä¼šé‡åˆ°ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„é—®é¢˜ï¼šåˆ†åˆ«åœ¨è¢«â€œé€‰ä¸­â€çš„å…ƒç´ å·¦è¾¹å’Œå³è¾¹çš„ä¸¤ä¸ªåˆ—è¡¨ï¼Œå„è‡ªå†…éƒ¨ä¾ç„¶æ˜¯ä¹±åºï¼ˆæœªç»è¿‡æŽ’åºï¼‰çš„ï¼Œå› ä¸ºè¿™ä¸€æ­¥å¯ä»¥ç†è§£ä¸ºå¯¹åŽŸåˆ—è¡¨çš„éåŽ†ï¼Œå› æ­¤å…ƒç´ çš„é¡ºåºå¹¶æ²¡æœ‰å˜ã€‚

åœ¨è¿™é‡Œï¼Œæ‰æ˜¯å¿«é€ŸæŽ’åºç®—æ³•çš„çœŸæ­£ä½“çŽ°â€”â€”

> å¯¹å„ä¸ªåˆ—è¡¨ï¼Œé‡å¤ç¬¬ä¸€æ­¥çš„æ“ä½œï¼Œç›´åˆ°é€‰å®šå…ƒç´ ä¸¤è¾¹çš„åˆ—è¡¨åªå‰©è‡³å¤šä¸€ä¸ªå…ƒç´ ã€‚

å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯ä¸€ä¸ªé€’å½’æ“ä½œã€‚ä»¥æ•°ç»„ `[5, 1, 9, 4, 6, 7, 3]` å’ŒæŽ’åºå‡½æ•° `quicksort` ä¸ºä¾‹ï¼š

### quicksort å¼€å§‹

ä¸ºäº†ç®€åŒ–ç®—æ³•ï¼Œæˆ‘ä»¬ç›´æŽ¥åœ¨å¼€å§‹å¤„ç†æ•°ç»„çš„æ—¶å€™ï¼Œç›´æŽ¥é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºè¢«é€‰å®šå…ƒç´ ã€‚ç»è¿‡ç­›é€‰åŽï¼Œæˆ‘ä»¬çš„ç»“æžœæ­¤æ—¶å˜æˆäº†è¿™æ ·ï¼š

```haskell
quicksort([1, 4, 3]) ++ [5] ++ quicksort([9, 6, 7])
```

ä¸­é—´çš„`[5]`æ˜¯æˆ‘ä»¬é€‰å®šçš„å…ƒç´ ï¼Œå·¦è¾¹æ˜¯æ¯”å®ƒå°çš„å…ƒç´ æ•°ç»„`[1, 4, 3]`ï¼Œå³è¾¹æ˜¯æ¯”å®ƒå¤§çš„`[9, 6, 7]`ã€‚å¯ä»¥çœ‹å‡ºï¼Œå…ƒç´ ä¸¤ä¾§çš„æ•°ç»„ä¾ç„¶æ˜¯ä¹±åºçŠ¶æ€ï¼Œä»ç„¶éœ€è¦å¯¹å…¶è¿›è¡ŒæŽ’åºï¼Œå› æ­¤ä¸Šé¢çš„ä¼ªä»£ç ä¸­å†™ä½œ `quicksort(Array)`ï¼Œå³å¯¹ä¸¤ä¸ªæ•°ç»„ç»§ç»­åº”ç”¨æŽ’åºæ“ä½œã€‚

è¿™é‡Œä»¥å·¦è¾¹çš„æ•°ç»„ä¸ºä¾‹ï¼Œçœ‹çœ‹é€’å½’æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š

### quicksort ç¬¬ä¸€å±‚é€’å½’

å¯¹æ–°çš„æ•°ç»„ `[1, 4, 3]` é‡å¤ä¸Šé¢çš„æ“ä½œï¼Œé€‰å®šç¬¬ä¸€ä¸ªå…ƒç´  `1` ä½œä¸ºè¢«é€‰å®šå…ƒç´ ï¼Œå¹¶ç­›é€‰å…¶ä¸¤è¾¹çš„æ•°ç»„ï¼Œç»“æžœå˜æˆè¿™æ ·ï¼š

```haskell
quicksort([]) ++ [1] ++ quicksort([4, 3])
```

å·¦è¾¹å·²ç»æˆä¸ºç©ºæ•°ç»„ï¼Œæ„å‘³ç€æˆ‘ä»¬é€‰å®šçš„ `1` å°±æ˜¯æ•´ä¸ªæ•°ç»„æœ€å°çš„å…ƒç´ äº†ï¼Œå› æ­¤æ²¡æœ‰æ¯”å®ƒæ›´å°çš„å…ƒç´ å­˜åœ¨äºŽå®ƒçš„å·¦è¾¹ä½ç½®äº†ã€‚è¿™æ ·å°±åªå‰©å³ä¾§æ¯”å®ƒå¤§çš„ `[4, 3]` äº†ï¼Œæˆ‘ä»¬ä¾ç„¶éœ€è¦å¯¹å…¶åº”ç”¨æŽ’åºæ“ä½œ quicksortï¼š

### quicksort ç¬¬äºŒå±‚é€’å½’

å¯¹æ–°çš„æ•°ç»„ `[4, 3]` é‡å¤ä¸Šé¢çš„æ“ä½œï¼Œå˜æˆä¸‹é¢è¿™æ ·ï¼š

```haskell
quicksort([3]) ++ [4] + quicksort([])
```

è‡³æ­¤ï¼Œå¯ä»¥è¯´é€’å½’çš„æ·±åº¦å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œå·¦ä¾§çš„ `quicksort([3])` åªå‰©ä¸€ä¸ªå…ƒç´ ä¸éœ€è¦ç»§ç»­æŽ’åºï¼Œå°†ç›´æŽ¥è¿”å›ž 3ï¼Œå³ä¾§å°†ç›´æŽ¥è¿”å›žç©ºï¼Œæ­¤æ—¶ä¸Šé¢çš„å¼å­å°±å®Œæˆäº†æŽ’åºï¼š

```haskell
quicksort([3]) ++ [4] ++ quicksort([])
= [3, 4]
```

### quicksort ç¬¬ä¸€å±‚é€’å½’

å°†è¿™ä¸ªç»“æžœç»§ç»­è¿”å›žï¼š

```haskell
quicksort([]) ++ [1] ++ quicksort([4, 3])
= [1] ++ [3, 4]
= [1, 3, 4]
```

### quicksort é¡¶å±‚

ç»§ç»­è¿”å›žï¼š

```haskell
quicksort([1, 4, 3]) ++ [5] ++ quicksort([9, 6, 7])
= [1, 3, 4] ++ [5] ++ quicksort([9, 6, 7])
= [1, 3, 4, 5] ++ quicksort([9, 6, 7])
```

å¯¹æœ€å¼€å§‹æ—¶å€™çš„å¼å­çš„å³è¾¹çš„ `quicksort([9, 6, 7])` è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œæœ€ç»ˆå°†å¾—åˆ°æŽ’å¥½åºçš„æ•°ç»„ï¼š`[6, 7, 9]`ã€‚å¸¦å…¥ä¸Šå¼ï¼š

```haskell
[1, 3, 4, 5] ++ quicksort([9, 6, 7])
= [1, 3, 4, 5, 6, 7, 9]
```

å¤§åŠŸå‘Šæˆï¼

åˆ°è¿™é‡Œï¼Œæ•´ä¸ªå¿«é€ŸæŽ’åºç®—æ³•è¿‡ç¨‹å°±ç»“æŸäº†ã€‚æœ€åŽæ”¾ä¸Šå¸®åŠ©æˆ‘ç†è§£ç®—æ³•çš„å›¾ç¤ºå’Œæˆ‘å†™çš„ Haskell å®žçŽ°ï¼Œå¸Œæœ›å¤§å®¶é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œéƒ½èƒ½å¤Ÿè½»æ¾æŽŒæ¡å¿«é€ŸæŽ’åºðŸ˜ƒ

![](@blogimg/2018/05/quicksort.png)

```haskell
quicksort :: (Ord a) => [a] -> [a]
quicksort [] = []
quicksort (x:xs) =
  lessthan ++ [x] ++ largerthan
  where lessthan = quicksort [a | a <- xs, a < x]
        largerthan = quicksort [a | a <- xs, a >= x]
```